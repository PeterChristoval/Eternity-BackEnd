<div class="container pt-4 px-4">
    <form method="post" action="/add_product">
        <div class="flash-status" data-flashdata="<%= status %>"></div>
        <div class="flash-msg" data-flashdata="<%= msg %>"></div>

        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
            <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
            </symbol>
        </svg>

        <% if(typeof errors != 'undefined') { %>
            <% errors.forEach(error => { %>
                <div class="alert alert-danger alert-dismissible fade show d-flex align-items-center" role="alert">
                    <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Danger:"><use xlink:href="#exclamation-triangle-fill"/></svg>
                    <div>
                        <%= error.msg %>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            <% }) %>
        <% } %>

        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input autofocus type="text" autocomplete="off" class="form-control" id="name" name="name" placeholder="Product's name" required>
        </div>

        <div class="mb-3">
            <label for="code" class="form-label">Code</label>
            <input type="text" autocomplete="off" class="form-control" id="code" name="code" placeholder="Product's code" required>
            <div class="form-text">Product's code can't be same with another product</div>
        </div>

        <div class="mb-3">
            <label for="price" class="form-label">Price</label>
            <input type="number" class="form-control" id="price" name="price" placeholder="Product's price" required>
        </div>

        <div class="mb-3">
            <label for="category" class="form-label">Category</label>
            <select class="form-select" aria-label="Default select example" id="category" name="category" required>
                <option selected value="">Choose Category</option>
                <% categories.forEach(category => { %>
                    <option value="<%= category.id %>"><%= category.name %></option>
                <% }) %>
            </select>
        </div>

        <div class="mb-3">
            <label for="label" class="form-label">Label</label>
            <select class="form-select" aria-label="Default select example" id="label" name="label" placeholder="asdas" required>
                <option selected value="">Choose label</option>
                <% labels.forEach(label => { %>
                    <option value="<%= label.id %>"><%= label.name %></option>
                <% }) %>
            </select>
        </div>
        
        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <div class="form-floating">
                <textarea class="form-control" id="description" name="description" placeholder="Product's description" style="height: 100px" required></textarea>
                <label for="description">Product's description</label>
            </div>
        </div>
        
        <div class="mb-3">
            <label for="stock" class="form-label">Stock</label>
            <input type="number" class="form-control" id="stock" name="stock" placeholder="Product's stock" required>
        </div>

        <!-- <div class="mb-3">
            <label for="img" class="form-label">Image</label>
            <input type="file" class="form-control" id="img" name="img" multiple>
        </div> -->

        <button type="submit" class="btn btn-primary">Submit</button>
        <a href="/products" class="btn btn-warning ms-3">Back</a>
    </form>
</div>